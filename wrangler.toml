name = "vox-mind-api"
main = "workers/api.ts"
compatibility_date = "2024-12-01"

# Development environment variables
[vars]
ENVIRONMENT = "development"
ALLOWED_ORIGINS = "http://localhost:3000,http://localhost:3001"

# Production environment
[env.production]
workers_dev = false

[env.production.vars]
ENVIRONMENT = "production"
ALLOWED_ORIGINS = "https://vox-mind.pages.dev,https://d8aef709.vox-mind.pages.dev"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "vox-mind-db"
database_id = "4d4a4eb0-45d3-4446-af7e-307416a93c9d"

[[env.production.d1_databases]]
binding = "DB"
database_name = "vox-mind-db"
database_id = "4d4a4eb0-45d3-4446-af7e-307416a93c9d"

# R2 Bucket
[[r2_buckets]]
binding = "AUDIO_BUCKET"
bucket_name = "vox-mind-audio-temp"

[[env.production.r2_buckets]]
binding = "AUDIO_BUCKET"
bucket_name = "vox-mind-audio-temp"

# Vectorize
[[vectorize]]
binding = "VECTORIZE"
index_name = "vox-mind-embeddings"

[[env.production.vectorize]]
binding = "VECTORIZE"
index_name = "vox-mind-embeddings"
